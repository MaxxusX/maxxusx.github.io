<!DOCTYPE html>
<html>
	<head>
		<script src=""></script>
		<link rel="stylesheet" href="universal.css">
		<title>maxxus // decoder</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet">
	</head>
	<body style="background-color:#011a2a;z-index:15;position:sticky;overflow:hidden;position:absolute;margin:auto;" id="mainbody">
		<div id="divmain" style="padding:200px;padding-bottom:0px;overflow:hidden;">
			<form>
				<label style="color:#ececec;" for="texttoencode">input:</label><br>
				<textarea style="width:65em; height:200px; color:#ececec; background-color:#000000; font-family:Montserrat; font-weight:300; font-size:medium; resize:none; border-radius:5px; overflow:hidden; border-style:solid; margin-bottom:10px;" spellcheck="true" type="text" id="texttoencode" name="texttoencode"></textarea><br>
				<label style="color:#ececec;" for="outputbox">output:</label><br>
				<textarea style="width:65em; height:200px; color:#ececec; background-color:#000000; font-family:Montserrat; font-weight:300; font-size:medium; resize:none; border-radius:5px; overflow:hidden; border-style:solid;" spellcheck="false" type="text" id="outputbox" name="outputbox"></textarea>
			</form>

			<button class="sendbtn" type="button" onclick="encodestuff()">decode</button>

			<script>
				// make encoding/decoding functions and stuff
				var uppercase = ["A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z"];
				var lowercase = ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z"];

				function randomInt() {
					return Math.floor(Math.random() * 25);
				};
				
				function encodeToText(str) {
					var output = '';
					for (var i = 0; i < str.length; i++) {
						if (str[i] === "1") {
							output += uppercase[randomInt()];
						} else if (str[i] === "0") {
							output += lowercase[randomInt()];
						} else {
							output += ' ';
						};
					};
					return output;
				};
				function decodeToBin(str) {
					var output = '';
					for (var i = 0; i < str.length; i++) {
						if (str[i] === " ") {
							output += " ";
						} else {
							if (str[i] === str[i].toUpperCase()) {
								output += "1";
							};
							if (str[i] === str[i].toLowerCase()){
								output += "0";
							};
						};
					};
					return output;
				};

				function encodeBin(str) {
					return str.split('').map(function (char) {
    				    return char.charCodeAt(0).toString(2);
					}).join(' ');
				};
				function decodeBin(str) {
					var binString = '';
					str.split(' ').map(function(bin) {
						binString += String.fromCharCode(parseInt(bin, 2));
					});
					return binString;
				};

				function encode(str) {
					return encodeToText(encodeBin(str));
				};

				function decode(str) {
					return decodeBin(decodeToBin(str));
				};
				// now actually encode/decode
				function encodestuff() {
					var inputbox = document.getElementById("texttoencode");
					var outputbox = document.getElementById("outputbox")
					outputbox.value = decode(inputbox.value);
				};
			</script>
		</div>
	</body>
</html>